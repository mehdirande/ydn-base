<h1 class="classTitle">Class ydn.api.App</h1>

<p>YDN client side Javascript application. </p>


<table cellspacing="0" class="summaryTable">

  <caption>
    Class Summary
  </caption>
  <thead>
  <tr>
    <th>Constructor Attributes</th>
    <th>Constructor Name and Description</th>
  </tr>
  </thead>
  <tbody>
  <tr>
    <td class="attributes">&nbsp;</td>
    <td class="nameDescription">
      <div class="fixedFont">
        <b><a href="#constructor">ydn.api.App</a></b>(options)
      </div>
      <div class="description">
        Create an application.
      </div>
    </td>
  </tr>
  </tbody>
</table>


<table cellspacing="0" class="summaryTable">
  <caption>
    Method Summary
  </caption>
  <thead>
  <tr>
    <th>Method Attributes</th>
    <th>Method Name and Description</th>
  </tr>
  </thead>
  <tbody>
  <tr>
    <td class="attributes">&nbsp;</td>
    <td class="nameDescription">
      <div class="fixedFont">
        <b><a href="#getUser">getUser</a></b>()
      </div>
      <div class="description">
        Get user object.
      </div>
    </td>
  </tr>
  <tr>
    <td class="attributes">&nbsp;</td>
    <td class="nameDescription">
      <div class="fixedFont">
        <b><a href="#run">run</a></b>()
      </div>
      <div class="description">
        Run the application.
      </div>
    </td>
  </tr>
  </tbody>
</table>

<div class="details">
  <a name="constructor"></a>
  <div class="sectionTitle">
    Class Detail
  </div>
  <div class="fixedFont">
    <b>ydn.api.App</b>(options)
  </div>
  <div class="description">
    Create an application supporting authentication,
    authorization and data storage.</div>

  <dl class="detailList">
    <dt class="heading">Parameters:</dt>

    <dt><span class="light fixedFont optional">{!Object}</span> <b>options</b>
    </dt>
    <dd>Application options having fields as follow:
      <ul>
        <li><span class="light fixedFont">{string}</span>
          <code>app_id</code>: Application id
        </li>
        <li><span class="light fixedFont">{string=}</span>
          <code>login_server_origin</code>: Optional, login server
          origin. Eg: <code>https://gae-login-server.appspot.com</code>
        </li>
        <li><span class="light fixedFont">{string=}</span>
          <code>auth_server_origin</code>: Optional, authorization server
          origin. Eg: <code>https://api.yathit.com</code>
        </li>
        <li><span class="light fixedFont">{string=}</span>
          <code>proxy_server_origin</code>: Optional, proxy server
          origin. Eg: <code>https://api.yathit.com</code>
        </li>
        <li><span class="light fixedFont">{Object=}</span>
          <code>openid_client</code>: Optional, OpenID client details having
          fields of <code>end_point</code>, <code>client_id</code>,
          <code>redirect_url</code>, <code>scope</code>, <code>verify_url</code>
        </li>
      </ul>
      Either <code>login_server_url</code> or <code>openid_client</code> must
      be specified.
    </dd>
<pre>var options = {
  app_id: 'test',
  login_server_url: 'https://gae-login-server.appspot.com'
};
var app = new ydn.api.App(options);
</pre>
  </dl>
</div>


<div class="sectionTitle">
  Method Detail
</div>

<a name="getUser"></a>


<div class="fixedFont">
  <b>getUser</b>()
</div>


<div class="description">
  Get user object. User may be login or may not login.
</div>


<dl class="detailList">
  <dt class="heading">Returns:</dt>

  <dd><span class="light fixedFont">{!ydn.api.User}</span>User object.
  </dd>
</dl>

<hr>


<a name="run"></a>


<div class="fixedFont">
  <b>run</b>()
</div>


<div class="description">
  Run the application. Running the application will carried the following
  steps:
  <ol>
    <li>Load previous client session if exists</li>
    <li>If session exists, initialize the database and restore application
    variables including user object.</li>
    <li>Invoke <code>refresh</code> methods to all presenters.</li>
    <li>Send non-interactive login request</li>
    <li>If received from server login respond, it can be either logout or
      login, depending on server session state,
      relevant presenters dispatch events and refresh their display.</li>
  </ol>
</div>


